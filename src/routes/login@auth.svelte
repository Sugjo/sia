<script>
	import GoogleAuth from '$lib/auth/GoogleAuth.svelte';
	import { login } from '$lib/auth/auth';
	import Error from '$lib/Error.svelte';
	import Input from '$lib/Input.svelte';

	let email;
	let password;
	let error;

	const submitHandler = () => login(email, password).then((e) => (error = e));
</script>

<svelte:head>
	<title>–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º | Sia HomeWork</title>
</svelte:head>

<h1>–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º –≤ Sia HomeWork üëã</h1>
<h2>–ü—Ä–∏—Å—Ç–∞–Ω–∏—â–µ –≤–∞—à–∏—Ö –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–π</h2>

<GoogleAuth />

<form class="email" on:submit|preventDefault={submitHandler}>
	<Input
		label="Email"
		name="email"
		inputType="email"
		placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π Email"
		{error}
		bind:value={email}
		required
	/>

	<Input
		label="–ü–∞—Ä–æ–ª—å"
		name="password"
		inputType="password"
		placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
		{error}
		bind:value={email}
		required
	/>

	<Error {error} name="other" />

	<button class="next" type="submit"> –í–æ–π—Ç–∏ </button>
</form>
<a class="forgotten-password" href="/reset">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>

<p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="/signup">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>

<style>
	h1,
	h2 {
		text-align: center;
		font-weight: 400;
	}

	h1 {
		font-size: 24px;
		margin: 0;
	}

	h2 {
		font-size: 14px;
		margin-bottom: 2rem;
	}

	a {
		text-decoration: none;
	}
	.email {
		display: flex;
		flex-direction: column;
	}

	button {
		height: 40px;

		background: #ffffff;
		border: 1px solid #d0d0d0;
		border-radius: 5px;

		padding: 10px;

		margin: 0.5rem 0;
	}

	.next {
		background: rgba(255, 155, 155, 0.29);
		color: #f93333;
		border: 1px solid #f78a8a;
		border-radius: 5px;
	}

	.forgotten-password {
		opacity: 0.8;
		font-size: 14px;
	}

	p {
		opacity: 0.8;
		margin-top: 2rem;
		text-align: center;
	}
</style>
